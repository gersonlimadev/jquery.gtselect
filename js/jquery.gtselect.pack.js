/**
 * jQuery gtSelect plugin
 * @author Gerson Thiago <http://www.gersonthiago.com> <https://github.com/gersonthiago/jquery.gtselect>
**/
;(function(e){e.fn.gtselect=function(t){function s(t,s){this.el=e(t);this.options=e.extend({},n,s);this.el.wrap('<div class="gtSelect" data-status="disabled" />');this.select=e(t).parent(".gtSelect");this.el.css("display","none");this.selectDisabled=typeof this.el.attr("disabled")!=="undefined"?true:false;var o="",u=this.select.find("option"),a="",f="",l=0,c=typeof this.el.attr("id")==="string"?"select_"+this.el.attr("id"):"select"+i;width=this.el.width(),fieldChecked={value:e(u[0]).attr("value"),text:e(u[0]).text()};for(var h=0;h<u.length;h++){if(e(u[h]).attr("selected")=="selected"){fieldChecked={value:e(u[h]).val(),text:e(u[h]).text()}}a+='<li data-val="'+e(u[h]).val()+'">'+e(u[h]).text()+"</li>"}if(typeof this.options.height!=="undefined"){f='style="max-height:'+this.options.height+'px;" data-scroll="true"'}if(typeof this.options.width==="undefined"){this.options.width=width}o+='<span class="bg"></span>';o+='<p class="activeOption">'+fieldChecked.text+"</p>";o+='<div class="listSelect" '+f+">";if(f!==""){o+='<div class="scroll" style="max-height:'+this.options.height+'px; overflow-x:hidden; overflow-y:auto;">'}o+="<ul>"+a+"</ul>";if(f!==""){o+="</div>"}o+="</div>";o+='<span class="arrow arrowDown">Down</span>';this.select.addClass(c).css({width:this.options.width+"px",zIndex:r}).append(o);if(!this.selectDisabled){this.appendEvents()}r--;i++}var n={speed:200,width:undefined,height:undefined,linkRedirect:false,change:undefined,effect:"slide"},r=100,i=0;s.prototype.appendEvents=function(){function s(r){var i=r.keyCode?r.keyCode:r.which,s="",o=[];t.find("li").css({opacity:1});switch(i){case 48:s="0";break;case 96:s="0";break;case 49:s="1";break;case 97:s="1";break;case 50:s="2";break;case 98:s="2";break;case 51:s="3";break;case 99:s="3";break;case 52:s="4";break;case 100:s="4";break;case 53:s="5";break;case 101:s="5";break;case 54:s="6";break;case 102:s="6";break;case 55:s="7";break;case 103:s="7";break;case 56:s="8";break;case 104:s="8";break;case 57:s="9";break;case 105:s="9";break;case 65:s="a";break;case 66:s="b";break;case 67:s="c";break;case 68:s="d";break;case 69:s="e";break;case 70:s="f";break;case 71:s="g";break;case 72:s="h";break;case 73:s="i";break;case 74:s="j";break;case 75:s="k";break;case 76:s="l";break;case 77:s="m";break;case 78:s="n";break;case 79:s="o";break;case 80:s="p";break;case 81:s="q";break;case 82:s="r";break;case 83:s="s";break;case 84:s="t";break;case 85:s="u";break;case 86:s="v";break;case 87:s="w";break;case 88:s="x";break;case 89:s="y";break;case 90:s="z";break}t.find("li").each(function(n){var r=e(this),i=0;if(r.text().substr(0,1).toLowerCase()==s&&r.attr("data-val")!==""){if(t.find(".scroll").length>0){i=n*(r.height()+parseInt(r.css("paddingTop").replace("px",""))+parseInt(r.css("paddingTop").replace("px","")))}r.css({opacity:1});o.push({el:t.find("option[value="+r.attr("data-val")+"]"),val:r.attr("data-val"),top:i})}else{r.css({opacity:.3})}});if(o.length==1){t.find("select option").attr("selected",false);o[0].el.attr("selected",true);t.find("li[data-val="+o[0].val+"]").trigger("click")}else if(o.length>1){if(t.find(".scroll").length>0){t.find(".scroll").animate({scrollTop:o[0].top},n.speed)}}else{t.find("li").css({opacity:1})}}var t=this.select,n=this.options,r="";var i=function(e,r){t.find("select option").attr("selected",false);t.find('select option[value="'+e+'"]').attr("selected",true);t.find(".activeOption").text(r);if(n.change!==undefined){n.change(e,r,t)}t.find("select").trigger("change")};t.bind("mouseenter mouseleave click",function(s){var o=e(this),u=o.attr("data-status");if(s.type=="click"){if(u=="disabled"){o.find(".arrow").removeClass("arrowDown").addClass("arrowUp").text("Up");o.attr("data-status","enabled");if(n.effect=="slide"){o.find(".listSelect").slideDown(n.speed)}else if(n.effect=="fade"){o.find(".listSelect").fadeIn(n.speed)}}else{o.find(".arrow").removeClass("arrowUp").addClass("arrowDown").text("Down");if(n.effect=="slide"){o.find(".listSelect").slideUp(n.speed)}else if(n.effect=="fade"){o.find(".listSelect").fadeOut(n.speed)}t.find("li").css({opacity:1});if(s.target.nodeName.toLowerCase()=="li"){if(n.linkRedirect){if(s.target.getAttribute("data-val")!=""){location.href=s.target.getAttribute("data-val")}}else{i(e(s.target).attr("data-val"),e(s.target).text())}}o.attr("data-status","disabled")}}else if(s.type=="mouseenter"){if(u=="enabled"){clearTimeout(r)}}else{if(u=="enabled"){r=setTimeout(function(){t.trigger("click")},1e3)}}});e("html").bind("keydown",function(e){if(t.attr("data-status")=="enabled"){s(e)}});e("html").bind("click",function(n){if(e(n.target).parents(".gtSelect").length==0){if(t.attr("data-status")=="enabled"){clearTimeout(r);t.trigger("click")}}})};return this.each(function(){new s(this,t)})}})(jQuery);