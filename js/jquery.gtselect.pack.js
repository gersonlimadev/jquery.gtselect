/**
 * jQuery gtSelect plugin
 * @author Gerson Thiago <http://www.gersonthiago.com> <https://github.com/gersonthiago/jquery.gtselect>
**/
;(function(a){a.fn.gtselect=function(b){function g(b,g,h){var i=this;if(i.el=a(b),h){var j=a.extend({},f,g);i.select=a(b).parent(".gtSelect"),j.disabled!==void 0&&(j.disabled?i.select.attr("data-status","boxdisabled").addClass("disabled"):i.select.attr("data-status","disabled").removeClass("disabled"))}else{i.options=a.extend({},c,g),i.el.wrap('<div class="gtSelect" data-status="disabled" />'),i.select=a(b).parent(".gtSelect"),i.el.css("display","none"),i.selectDisabled=i.el.attr("disabled")!==void 0?!0:!1;var k="",l=i.select.find("option"),m="",n="",p="string"==typeof i.el.attr("id")?"select_"+i.el.attr("id"):"select"+e;width=i.el.width(),fieldChecked={value:a(l[0]).attr("value"),text:a(l[0]).text()};for(var q=0;l.length>q;q++)"selected"==a(l[q]).attr("selected")&&(fieldChecked={value:a(l[q]).val(),text:a(l[q]).text()}),m+='<li data-val="'+a(l[q]).val()+'">'+a(l[q]).text()+"</li>";i.options.height!==void 0&&(n='style="max-height:'+i.options.height+'px;" data-scroll="true"'),i.options.width===void 0&&(i.options.width=width),k+='<span class="bg"></span>',k+='<p class="activeOption">'+fieldChecked.text+"</p>",k+='<div class="listSelect" '+n+">",""!==n&&(k+='<div class="scroll" style="max-height:'+i.options.height+'px; overflow-x:hidden; overflow-y:auto;">'),k+="<ul>"+m+"</ul>",""!==n&&(k+="</div>"),k+="</div>",k+='<span class="arrow arrowDown">Down</span>',i.select.addClass(p).css({width:i.options.width+"px",zIndex:d}).append(k),i.selectDisabled&&i.changeStatus("boxdisabled").addClass("disabled"),i.addEvents(),d--,e++}}var c={speed:200,width:void 0,height:void 0,linkRedirect:!1,effect:"none"},d=100,e=0,f={disabled:void 0};return g.prototype={changeStatus:function(a){var b=this;return b.select.attr("data-status",a),b.select},getStatus:function(){return this.select.attr("data-status")},changeValue:function(a,b){var c=this.select;c.find("select option").attr("selected",!1),c.find('select option[value="'+a+'"]').attr("selected",!0),c.find(".activeOption").text(b),c.find("select").trigger("change")},addEvents:function(){function h(b){var e=b.keyCode?b.keyCode:b.which,h="",i=[];switch(g!==void 0&&clearTimeout(g),e){case 48:h="0";break;case 96:h="0";break;case 49:h="1";break;case 97:h="1";break;case 50:h="2";break;case 98:h="2";break;case 51:h="3";break;case 99:h="3";break;case 52:h="4";break;case 100:h="4";break;case 53:h="5";break;case 101:h="5";break;case 54:h="6";break;case 102:h="6";break;case 55:h="7";break;case 103:h="7";break;case 56:h="8";break;case 104:h="8";break;case 57:h="9";break;case 105:h="9";break;case 65:h="a";break;case 66:h="b";break;case 67:h="c";break;case 68:h="d";break;case 69:h="e";break;case 70:h="f";break;case 71:h="g";break;case 72:h="h";break;case 73:h="i";break;case 74:h="j";break;case 75:h="k";break;case 76:h="l";break;case 77:h="m";break;case 78:h="n";break;case 79:h="o";break;case 80:h="p";break;case 81:h="q";break;case 82:h="r";break;case 83:h="s";break;case 84:h="t";break;case 85:h="u";break;case 86:h="v";break;case 87:h="w";break;case 88:h="x";break;case 89:h="y";break;case 90:h="z"}""!==h&&(f+=h,g=setTimeout(function(){f="",c.find("li").css({opacity:1})},1500)),c.find("li").each(function(b){var d=a(this),e=0;d.text().substr(0,f.length).toLowerCase()==f&&""!==d.attr("data-val")?(c.find(".scroll").length>0&&(e=b*(d.height()+parseInt(d.css("paddingTop").replace("px",""))+parseInt(d.css("paddingTop").replace("px","")))),d.css({opacity:1}),i.push({el:c.find("option[value="+d.attr("data-val")+"]"),val:d.attr("data-val"),top:e})):d.css({opacity:.3})}),1==i.length?(c.find("select option").attr("selected",!1),i[0].el.attr("selected",!0),c.find("li[data-val="+i[0].val+"]").trigger("click")):i.length>1?c.find(".scroll").length>0&&c.find(".scroll").animate({scrollTop:i[0].top},d.speed):c.find("li").css({opacity:1})}var b=this,c=b.select,d=b.options,e="",f="",g=void 0;c.bind("mouseenter mouseleave click",function(f){var g=a(this),h=b.getStatus();"boxdisabled"!==h&&("click"==f.type?"disabled"==h?(g.find(".arrow").removeClass("arrowDown").addClass("arrowUp").text("Up"),b.changeStatus("waiting"),"slide"==d.effect?g.find(".listSelect").slideDown(d.speed,function(){b.changeStatus("enabled")}):"fade"==d.effect?g.find(".listSelect").fadeIn(d.speed,function(){b.changeStatus("enabled")}):(g.find(".listSelect").css({display:"block"}),b.changeStatus("enabled"))):(g.find(".arrow").removeClass("arrowUp").addClass("arrowDown").text("Down"),b.changeStatus("waiting"),"slide"==d.effect?g.find(".listSelect").slideUp(d.speed,function(){b.changeStatus("disabled")}):"fade"==d.effect?g.find(".listSelect").fadeOut(d.speed,function(){b.changeStatus("disabled")}):(g.find(".listSelect").css({display:"none"}),b.changeStatus("disabled")),c.find("li").css({opacity:1}),"li"==f.target.nodeName.toLowerCase()&&(d.linkRedirect?""!=f.target.getAttribute("data-val")&&(location.href=f.target.getAttribute("data-val")):b.changeValue(a(f.target).attr("data-val"),a(f.target).text()))):"mouseenter"==f.type?"enabled"==h&&clearTimeout(e):"enabled"==h&&(e=setTimeout(function(){c.trigger("click")},1e3)))}),a("html").bind("keydown",function(a){"enabled"==b.getStatus()&&h(a)}),a("html").bind("click",function(d){0==a(d.target).parents(".gtSelect").length&&"enabled"==b.getStatus()&&(clearTimeout(e),c.trigger("click"))})}},this.each(function(){0==a(this).parents(".gtSelect").length?new g(this,b):g(this,b,!0)})}})(jQuery);